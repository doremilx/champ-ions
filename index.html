<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="./styles/reset.css" />
  <link rel="stylesheet" href="./styles/index.css" />
  <link rel="stylesheet" href="./styles/camera.css" />
  <title>Accueil</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Londrina+Solid:wght@100;300;400;900&family=Raleway:ital,wght@0,100..900;1,100..900&family=Titan+One&display=swap"
    rel="stylesheet" />
  <link rel="shortcut icon" href="img/LogoNIRD.svg" type="image/x-icon">
</head>

<body>
  <!-- Logo 3d -->
  <script type="importmap">
    {
      "imports": {
        "three": "https://cdn.jsdelivr.net/npm/three@0.149/build/three.module.js",
        "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.149/examples/jsm/"
      }
    }
  </script>
  <n-header title-src="img/logoNIRD.svg" title-alt="Retour à l'accueil" title-page="Page Accueil"></n-header>

  <!-- Titre principal -->
  <div class="welcome" id="welcome">
    <div id="viewer"></div>
    <h1>Entre dans <span class="yellow"> l’ avenir</span> du <span class="yellow">numérique</span></h1>
  </div>
  <p class="texte-intro">
    La démarche NIRD accompagne les établissements scolaires vers un Numérique Inclusif Responsable et Durable, en
    s’appuyant notamment sur l’adoption progressive de Linux et de logiciels libres. Nous voulons que les
    institutions apprennent à maîtriser l’outil numérique plutôt que de le subir..
  </p>
  <div class="texte-special">
    <h2>L'Outil numérique : <br />un enjeu</h2>
    <div class="special-flex">
      <h2 class="gros-special">Eco</h2>
      <h2 class="petit-special">logique & <br />nomique</h2>
    </div>
  </div>
  <div class="infos-container">

    <div class="info">
      <h2>74 millions d’€</h2>
      <p>Montant signé par l’Éducation nationale (18 mars 2025) pour des solutions et services Microsoft.</p>
    </div>

    <div class="info">
      <h2><span id="counter">0</span> millions d'appareils</h2>
      <p>
        Nombre d’appareils qui risquent de partir à la décharge après l’obsolescence de Windows 10 (depuis 14 octobre
        2025).
      </p>
    </div>

    <div class="info">
      <h2>+7ans</h2>
      <p>de durée de vie moyenne pour un appareil lorsqu’il fonctionne sous Linux.</p>
    </div>

    <div class="info">
      <h2>2 millions d’€ économisés</h2>
      <p>en 6 ans, grâce au développement interne et aux logiciels libres (Commune d’Échirolles).</p>
    </div>

    <div class="info">
      <h2>8 millions d’€ d’économies</h2>
      <p>réalisés par la Gendarmerie nationale</p>
    </div>

    <div class="info">
      <h2>et pourtant …75 %</h2>
      <div class="progress-container">
        <div class="progress-bar" style="width: 75%"></div>
      </div>
      <p>des ordinateurs dans le monde tournent encore sous Windows.</p>
    </div>



    <img src="img/logoNIRD.svg" alt="Logo NIRD suiveur" id="follower-logo" />

    <svg id="path-svg" viewBox="0 0 100 1000" preserveAspectRatio="xMinYMin meet">
      <style>
        /* CSS embarqué : prioritaire sur beaucoup de fichiers externes */
        #zig-zag-line {
          stroke: #FFD100;
          stroke-width: 8;
          fill: none;
          stroke-linecap: round;
          /* arrondit les extrémités */
          stroke-linejoin: round;
          /* arrondit les jonctions */
          stroke-miterlimit: 2;
          /* limite les pointes excessives */
          vector-effect: non-scaling-stroke;
          /* garde la largeur lors du scale */
          shape-rendering: geometricPrecision;
          /* évite les crénelages causés par crispEdges */
          /* si jamais un reset CSS fixe shape-rendering : */
          -webkit-font-smoothing: antialiased;
          -moz-osx-font-smoothing: grayscale;
        }
      </style>

      <path id="zig-zag-line"
        d="M 50 0 L 10 120 L 90 240 L 30 360 L 70 480 L 10 600 L 90 720 L 50 840 L 10 960 L 50 1000" />
    </svg>



    <div class="cta">
      <h2 class="ctatitle">Plonge dans le futur du numérique</h2>
      <a class="btn" href="jeu.html">Je me lance !</a>
    </div>
  </div>


  </div>


  <n-footer title-src="img/logoNIRD.svg" title-alt="Retour à l'accueil" title-page="Page Accueil"></n-footer>
  <script src="script.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/MotionPathPlugin.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/ScrollTrigger.min.js"></script>
  <script type="module" src="./components/index.js"></script>
  <script type="module" src="./components/camera.js"></script>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const el = document.querySelector('.menu-info');
      console.log('menu-info:', el);
      if (el) el.style.borderBottom = '2px solid white';
    });

  </script>

  <script>
    const span = document.getElementById("counter");
    const target = 400;
    const duration = 1500;
    let hasPlayed = false; // pour éviter de rejouer l'animation

    function startAnimation() {
      const start = performance.now();

      function animate(now) {
        const progress = Math.min((now - start) / duration, 1);
        const value = Math.floor(progress * target);
        span.textContent = value.toLocaleString("fr-FR");

        if (progress < 1) {
          requestAnimationFrame(animate);
        }
      }

      requestAnimationFrame(animate);
    }

    // Observer pour détecter quand le span rentre dans l'écran
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting && !hasPlayed) {
          hasPlayed = true;
          startAnimation();
          observer.disconnect(); // stop l’observer pour perf
        }
      });
    });

    // observer cible le span
    observer.observe(span);
  </script>


</body>

</html>